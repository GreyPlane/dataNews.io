{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/amap-container/amap-container.component.ts","./src/app/amap-container/amap-container.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/content-card/content-card.component.ts","./src/app/content-card/content-card.component.html","./src/app/my-material/my-material.module.ts","./src/app/path-schedule.service.ts","./src/app/sankey-data-provider.service.ts","./src/app/sankey-demo/sankey-demo.component.ts","./src/app/sankey-demo/sankey-demo.component.html","./src/app/sankey/sankey.component.ts","./src/app/sankey/sankey.component.html","./src/app/search-bar/search-bar.component.ts","./src/app/search-bar/search-bar.component.html","./src/constants/data.ts","./src/constants/enum.ts","./src/constants/text.ts","./src/environments/environment.ts","./src/main.ts","./src/types/data.ts","./src/types/sankey.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnDestroy, OnInit, Input } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { Validators, FormControl } from \"@angular/forms\";\nimport {\n  AmapPlaceSearchService,\n  AmapPlaceSearchWrapper,\n  AmapWalkingService,\n  AmapWalkingWrapper,\n  ILngLat,\n  Map,\n  Poi,\n  PoiList,\n  WalkingResult,\n  WalkRoute,\n  AmapDrivingService,\n  AmapDrivingWrapper,\n  IIcon,\n  DrivingResult,\n} from \"ngx-amap\";\nimport { Observable, Subscription, Subject } from \"rxjs\";\nimport { map, share, tap, takeUntil } from \"rxjs/operators\";\nimport { ContentCardComponent } from \"src/app/content-card/content-card.component\";\nimport { PathScheduleService } from \"src/app/path-schedule.service\";\nimport {\n  RESULT_STATUS,\n  wasteCategroiesName,\n  WASTE_CATEGORY,\n} from \"src/constants/enum\";\nimport { SankeyDemoComponent } from \"src/app/sankey-demo/sankey-demo.component\";\nimport { AssertionError } from \"assert\";\nimport { Position } from \"src/types/data\";\nimport { StreetData } from \"src/constants/data\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Component({\n  selector: \"app-amap-container\",\n  templateUrl: \"./amap-container.component.html\",\n  styleUrls: [\"./amap-container.component.scss\"],\n  providers: [PathScheduleService],\n})\nexport class AmapContainerComponent implements OnInit, OnDestroy {\n  isShowTransferStation: boolean = false;\n  isShowFactory: boolean = false;\n  temp$: Observable<StreetData[]>;\n  wasteCategories: WASTE_CATEGORY[] = [\n    WASTE_CATEGORY.Dry,\n    WASTE_CATEGORY.Moist,\n    // WASTE_CATEGORY.Harzard,\n    WASTE_CATEGORY.Recycle,\n  ];\n  wasteCategroiesName = wasteCategroiesName;\n\n  isMapReady = false;\n  isLocated = false;\n\n  amap?: Map = null;\n  selectedPoi: Poi;\n\n  amapPlaceSearchPlugin: AmapPlaceSearchWrapper;\n  isPlaceSearchComplete$: Observable<boolean>;\n  isPlaceSearchPending = false;\n  // placeSearchResult: SearchResult;\n\n  amapWalkNaviPlugin: AmapWalkingWrapper;\n  walkNaviResult: WalkingResult;\n  isWalkNaviComplete$: Observable<boolean>;\n  isWalkNaviPending = false;\n\n  amapDriveNaviPlugin: AmapDrivingWrapper;\n  driveNaviResult: DrivingResult;\n  isDriveNaviComplete$: Observable<boolean>;\n  isDriveNaviPending = false;\n\n  pathToTransferStation: ILngLat[];\n  pathToFactory: ILngLat[];\n  dest: { factory: Position; transferStation: Position };\n\n  transferIcon: IIcon;\n  factoryIcon: IIcon;\n  homeIcon: IIcon;\n\n  private _destroy$ = new Subject<void>();\n\n  public addressControl = new FormControl(\"\", Validators.required);\n  public categoryControl = new FormControl(\"\");\n  public isLineHovering: boolean = false;\n  constructor(\n    private readonly amapPlaceSearch: AmapPlaceSearchService,\n    private readonly amapWalkNavi: AmapWalkingService,\n    private readonly snackBar: MatSnackBar,\n    private readonly dialog: MatDialog,\n    private readonly pathSchedule: PathScheduleService,\n    private readonly amapDriveNavi: AmapDrivingService,\n    private readonly http: HttpClient\n  ) {}\n\n  ngOnInit() {\n    this.categoryControl.valueChanges\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((value) => {\n        this.applyDriveNavi(value);\n      });\n    // tslint:disable-next-line: no-backbone-get-set-outside-model\n    this.temp$ = this.http\n      .get<StreetData[]>(\"./assets/sanityCheck.json\")\n      .pipe(takeUntil(this._destroy$));\n    const size = { width: 30, height: 30 };\n    const offset = { x: 0, y: 0 };\n    const options = {\n      size,\n      imageOffset: offset,\n      imageSize: size,\n    };\n    this.transferIcon = {\n      imageSize: size,\n      image: \"./assets/transfer.png\",\n      size: size,\n      imageOffset: offset,\n    };\n    this.factoryIcon = {\n      image: \"./assets/factory.png\",\n      ...options,\n    };\n    this.homeIcon = {\n      image: \"./assets/home.png\",\n      ...options,\n    };\n  }\n  ngOnDestroy() {\n    // this.placeSearchErrorSub.unsubscribe();\n    // this.walkNaviErrorSub.unsubscribe();\n    // this.selectPoiChangeSub.unsubscribe();\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n  errorHandler(err: string) {\n    this.snackBar.open(`something wrong: ${err}, pls retry`, \"ok\", {\n      duration: 10000,\n    });\n  }\n  clearMarkers() {\n    const amap = this.amap;\n    const markers = amap.getAllOverlays(\"marker\");\n    amap.remove(markers);\n  }\n  showFactory() {\n    this.clearMarkers();\n    this.isShowFactory = !this.isShowFactory;\n  }\n  /**\n   * showTrans\n   */\n  public showTrans() {\n    this.clearMarkers;\n    this.isShowTransferStation = !this.isShowTransferStation;\n  }\n  onLineHover(e: any, type: \"mouseover\" | \"mouseout\") {\n    switch (type) {\n      case \"mouseover\":\n        e.target.setOptions({\n          isOutline: true,\n        });\n        break;\n      case \"mouseout\":\n        e.target.setOptions({\n          isOutline: false,\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n  onLineClick(category: WASTE_CATEGORY) {\n    this.dialog.open(ContentCardComponent, {\n      data: { category, dest: this.dest },\n    });\n  }\n  onMapReady(amap: Map) {\n    this.isMapReady = true;\n    this.amap = amap;\n    const promisePS = this.amapPlaceSearch.of({\n      map: this.amap,\n      city: \"上海\",\n      citylimit: true,\n      autoFitView: true,\n    });\n    const promiseWN = this.amapWalkNavi.of({\n      // map: this.amap,\n      autoFitView: true,\n    });\n    const promiseDN = this.amapDriveNavi.of({\n      // map: this.amap,\n      autoFitView: true,\n    });\n    Promise.all([promisePS, promiseWN, promiseDN])\n      .then((plugins) => {\n        this.amapPlaceSearchPlugin = plugins[0];\n        this.initPlaceSearch();\n        this.amapWalkNaviPlugin = plugins[1];\n        this.initWalkNavi();\n        this.amapDriveNaviPlugin = plugins[2];\n        this.initDriveNavi();\n      })\n      .catch((err) => console.log(`plugin init error: ${err}`));\n  }\n  initPlaceSearch() {\n    this.isPlaceSearchComplete$ = this.amapPlaceSearchPlugin\n      .on(\"complete\")\n      .pipe(\n        tap((res) => (this.selectedPoi = res.poiList.pois[0])),\n        map((res) => (res.info === RESULT_STATUS.NO_DATA ? false : true)),\n        share()\n      );\n    this.amapPlaceSearchPlugin\n      .on(\"selectChanged\")\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((selectChangeEvent) => {\n        this.selectedPoi = selectChangeEvent.selected.data;\n      });\n    this.amapPlaceSearchPlugin\n      .on(\"error\")\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((err) => this.errorHandler(err));\n  }\n  applyPlaceSearch(keyword: string) {\n    this.isPlaceSearchPending = true;\n    this.amapPlaceSearchPlugin\n      .search(keyword)\n      .catch((err) => this.errorHandler(err))\n      .finally(() => (this.isPlaceSearchPending = false));\n  }\n  initWalkNavi() {\n    this.isWalkNaviComplete$ = this.amapWalkNaviPlugin.on(\"complete\").pipe(\n      tap((res) => (this.walkNaviResult = res)),\n      map((res) => (res.info === RESULT_STATUS.NO_DATA ? false : true)),\n      share()\n    );\n    this.amapPlaceSearchPlugin\n      .on(\"error\")\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((err) => this.errorHandler(err));\n  }\n  initDriveNavi() {\n    this.isDriveNaviComplete$ = this.amapWalkNaviPlugin.on(\"complete\").pipe(\n      tap((res) => (this.driveNaviResult = res)),\n      map((res) => (res.info === RESULT_STATUS.NO_DATA ? false : true)),\n      share()\n    );\n    this.amapDriveNaviPlugin\n      .on(\"error\")\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((err) => this.errorHandler(err));\n  }\n  applyDriveNavi(category: WASTE_CATEGORY) {\n    if (category === WASTE_CATEGORY.Harzard) return;\n    const plugin = this.amapDriveNaviPlugin;\n    const start = this.selectedPoi;\n    const dest = this.pathSchedule.getPoint(start, category);\n    const markers = this.amap.getAllOverlays(\"marker\");\n    this.dest = dest;\n    this.isDriveNaviPending = true;\n    Promise.all([\n      plugin.search(start.location, dest.transferStation.lnglgt, {}),\n      plugin.search(dest.transferStation.lnglgt, dest.factory.lnglgt, {}),\n    ])\n      .then((driveResultes) => {\n        const status = driveResultes.every(\n          (result) => result.status === RESULT_STATUS.COMPLETE\n        );\n        if (status) {\n          let trans = driveResultes[0].result;\n          let fac = driveResultes[1].result;\n          this.assertDriveResult(trans);\n          this.assertDriveResult(fac);\n          this.pathToTransferStation = trans.routes[0].steps\n            .map((step) => step.path)\n            .reduce((acc, x) => acc.concat(x), []);\n          this.pathToFactory = fac.routes[0].steps\n            .map((step) => step.path)\n            .reduce((acc, x) => acc.concat(x), []);\n          this.amap.remove(markers);\n          this.isShowFactory = false;\n          this.isShowTransferStation = false;\n          this.amap.setFitView();\n        }\n      })\n      .catch((err) => this.errorHandler(err))\n      .finally(() => (this.isDriveNaviPending = false));\n  }\n  applyWalkNavi(category: WASTE_CATEGORY) {\n    const plugin = this.amapWalkNaviPlugin;\n    const start = this.selectedPoi;\n    const dest = this.pathSchedule.getPoint(start, category);\n    this.dest = dest;\n    const markers = this.amap.getAllOverlays(\"marker\");\n    this.isWalkNaviPending = true;\n    Promise.all([\n      plugin.search(start.location, dest.transferStation.lnglgt),\n      plugin.search(dest.transferStation.lnglgt, dest.factory.lnglgt),\n    ])\n      .then((walkResultes) => {\n        const status = walkResultes\n          .map((result) => (result.status === \"complete\" ? true : false))\n          .reduce((acc, val) => acc && val, true);\n        if (status) {\n          let resultTrans = walkResultes[0].result;\n          let resultFac = walkResultes[1].result;\n          this.assertWalkResult(resultTrans);\n          this.assertWalkResult(resultFac);\n          let routesTrans = resultTrans.routes;\n          let routesFac = resultFac.routes;\n          this.assertWalkRoutes(routesTrans);\n          this.assertWalkRoutes(routesFac);\n          // lib's type def of WalkingResult.routes was wrong\n          this.pathToTransferStation = routesTrans[0].steps\n            .map((step) => step.path)\n            .reduce((acc, val) => acc.concat(val), []);\n          // resultTrans = walkResultes[1].result;\n          this.pathToFactory = routesFac[0].steps\n            .map((step) => step.path)\n            .reduce((acc, val) => acc.concat(val), []);\n          this.amap.remove(markers);\n          this.amap.setFitView();\n        }\n      })\n      .catch((err) => this.errorHandler(err))\n      .finally(() => (this.isWalkNaviPending = false));\n  }\n  private assertWalkRoutes(routes: any): asserts routes is WalkRoute[] {\n    Array.isArray(routes);\n    this.assertWalkRoute(routes[0]);\n  }\n  private assertWalkRoute(route: any): asserts route is WalkRoute {\n    if (route.steps === undefined) {\n      throw new AssertionError();\n    }\n  }\n  private assertWalkResult(\n    result: string | WalkingResult\n  ): asserts result is WalkingResult {\n    if (typeof result === \"string\") {\n      throw new AssertionError();\n    }\n  }\n  private assertDriveResult(\n    result: string | DrivingResult\n  ): asserts result is DrivingResult {\n    if (typeof result === \"string\") {\n      throw new AssertionError();\n    }\n  }\n}\n","<!--[features]=\"['bg', 'road', 'building', 'poi']\"-->\n\n<ngx-amap\n  class=\"map\"\n  [style.height.px]=\"800\"\n  [center]=\"$any([121.47, 31.23])\"\n  [zoom]=\"13\"\n  [keyboardEnable]=\"false\"\n  (ready)=\"onMapReady($any($event))\"\n  #amap\n>\n  <ng-container\n    *ngIf=\"\n      (isShowTransferStation || isShowFactory) && temp$ | async as data;\n      else normal\n    \"\n  >\n    <ng-container *ngIf=\"isShowTransferStation\">\n      <ng-container *ngFor=\"let datum of data\">\n        <amap-polyline\n          [path]=\"datum.transferStation.path\"\n          [borderWeight]=\"3\"\n          [lineJoin]=\"'round'\"\n          [strokeWeight]=\"5\"\n          [strokeOpacity]=\"0.5\"\n          [strokeColor]=\"'#3366FF'\"\n          [strokeStyle]=\"'solid'\"\n        ></amap-polyline>\n        <amap-marker\n          [position]=\"datum.transferStation.path[0]\"\n          [title]=\"datum.name\"\n          [icon]=\"homeIcon\"\n        ></amap-marker>\n        <amap-marker\n          [position]=\"\n            datum.transferStation.path[datum.transferStation.path.length - 1]\n          \"\n          [title]=\"datum.transferStation.name\"\n          [icon]=\"transferIcon\"\n        ></amap-marker>\n      </ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"isShowFactory\">\n      <ng-container *ngFor=\"let datum of data\">\n        <amap-polyline\n          [path]=\"datum.factory.path\"\n          [borderWeight]=\"3\"\n          [lineJoin]=\"'round'\"\n          [strokeOpacity]=\"0.5\"\n          [strokeWeight]=\"5\"\n          [strokeColor]=\"'red'\"\n          [strokeStyle]=\"'solid'\"\n        ></amap-polyline>\n        <amap-marker\n          [position]=\"\n            datum.transferStation.path[datum.transferStation.path.length - 1]\n          \"\n          [title]=\"datum.transferStation.name\"\n          [icon]=\"transferIcon\"\n        ></amap-marker>\n        <amap-marker\n          [position]=\"datum.factory.path[datum.factory.path.length - 2]\"\n          [title]=\"datum.factory.name\"\n          [icon]=\"factoryIcon\"\n        ></amap-marker>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n\n  <ng-template #normal>\n    <amap-polyline\n      [path]=\"pathToTransferStation\"\n      [borderWeight]=\"3\"\n      [lineJoin]=\"'round'\"\n      [strokeWeight]=\"5\"\n      [outlineColor]=\"'red'\"\n      (mouseOver)=\"onLineHover($event, 'mouseover')\"\n      (mouseOut)=\"onLineHover($event, 'mouseout')\"\n      (polylineClick)=\"onLineClick(categoryControl.value)\"\n    ></amap-polyline>\n    <amap-polyline\n      [path]=\"pathToFactory\"\n      [strokeColor]=\"isLineHovering ? '#3366FF' : '#000000'\"\n      [lineJoin]=\"'round'\"\n      [outlineColor]=\"'red'\"\n      [borderWeight]=\"3\"\n      [strokeWeight]=\"5\"\n      (mouseOver)=\"onLineHover($event, 'mouseover')\"\n      (mouseOut)=\"onLineHover($event, 'mouseout')\"\n      (polylineClick)=\"onLineClick(categoryControl.value)\"\n    ></amap-polyline>\n    <amap-marker\n      *ngIf=\"pathToTransferStation\"\n      [position]=\"pathToTransferStation[0]\"\n      [title]=\"selectedPoi.name\"\n      [icon]=\"homeIcon\"\n    ></amap-marker>\n    <amap-marker\n      *ngIf=\"pathToTransferStation\"\n      [position]=\"pathToTransferStation[pathToTransferStation.length - 1]\"\n      [title]=\"dest.transferStation.name\"\n      [icon]=\"transferIcon\"\n    ></amap-marker>\n    <amap-marker\n      *ngIf=\"pathToFactory\"\n      [position]=\"pathToFactory[pathToFactory.length - 1]\"\n      [title]=\"dest.factory.name\"\n      [icon]=\"factoryIcon\"\n    ></amap-marker>\n  </ng-template>\n</ngx-amap>\n<mat-expansion-panel id=\"searchPanel\" cdkDragBoundry=\".amap-layer\" cdkDrag>\n  <mat-expansion-panel-header>\n    侬晓得哇？\n  </mat-expansion-panel-header>\n\n  <mat-vertical-stepper [linear]=\"true\">\n    <mat-step\n      #stepLocation\n      label=\"step1\"\n      state=\"location\"\n      [completed]=\"(isPlaceSearchComplete$ | async) && addressControl.valid\"\n    >\n      <ng-template matStepLabel>输入起始位置</ng-template>\n\n      <mat-form-field>\n        <input\n          matInput\n          [formControl]=\"addressControl\"\n          type=\"text\"\n          placeholder=\"请输入地址\"\n          required\n        />\n      </mat-form-field>\n\n      <div>\n        <button\n          mat-button\n          (click)=\"applyPlaceSearch(addressControl.value)\"\n          [disabled]=\"isPlaceSearchPending || addressControl.invalid\"\n        >\n          搜索\n        </button>\n        <button\n          mat-button\n          matStepperNext\n          [disabled]=\"\n            isPlaceSearchPending ||\n            !(isPlaceSearchComplete$ | async) ||\n            addressControl.invalid\n          \"\n        >\n          下一步\n        </button>\n      </div>\n    </mat-step>\n    <mat-step\n      label=\"step2\"\n      state=\"category\"\n      [completed]=\"isDriveNaviComplete$ | async\"\n    >\n      <ng-template matStepLabel>选择垃圾类型</ng-template>\n      <mat-form-field class=\"selector\">\n        <mat-label>分类</mat-label>\n        <mat-select [formControl]=\"categoryControl\">\n          <mat-option\n            *ngFor=\"let cate of wasteCategories; let i = index\"\n            [value]=\"cate\"\n          >\n            {{ wasteCategroiesName[i] }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-step>\n    <ng-template matStepperIcon=\"location\">\n      <mat-icon>location_on</mat-icon>\n    </ng-template>\n    <ng-template matStepperIcon=\"category\">\n      <mat-icon>receipt</mat-icon>\n    </ng-template>\n  </mat-vertical-stepper>\n</mat-expansion-panel>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from \"@angular/core\";\nimport { Map } from \"ngx-amap\";\nimport { BreakpointObserver, Breakpoints } from \"@angular/cdk/layout\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.scss\"]\n})\nexport class AppComponent {\n  title = '上海市垃圾流通网络';\n  public map?: Map = null;\n  constructor(breakPointObserver: BreakpointObserver) {}\n  run() {\n    window.alert(\"wwwwwww\");\n  }\n  async runAs() {}\n  onMapReady(map: Map) {\n    this.map = map;\n\n  }\n}\n","<!--The content below is only a placeholder and can be replaced.-->\n<app-search-bar></app-search-bar>\n<!--<app-sankey-demo></app-sankey-demo>-->\n","import { NgModule } from \"@angular/core\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { RouterModule } from \"@angular/router\";\nimport { NgxAmapModule } from \"ngx-amap\";\nimport { AmapContainerComponent } from \"src/app/amap-container/amap-container.component\";\nimport { AppRoutingModule } from \"src/app/app-routing.module\";\nimport { AppComponent } from \"src/app/app.component\";\nimport { ContentCardComponent } from \"src/app/content-card/content-card.component\";\nimport { MyMaterialModule } from \"src/app/my-material/my-material.module\";\nimport { SankeyDemoComponent } from \"src/app/sankey-demo/sankey-demo.component\";\nimport { SankeyComponent } from \"src/app/sankey/sankey.component\";\nimport { SearchBarComponent } from \"src/app/search-bar/search-bar.component\";\nimport { HttpClientJsonpModule, HttpClientModule } from \"@angular/common/http\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SearchBarComponent,\n    AmapContainerComponent,\n    ContentCardComponent,\n    SankeyComponent,\n    SankeyDemoComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    AppRoutingModule,\n    MyMaterialModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    RouterModule.forRoot([\n      // { path: './', component: SearchBarComponent },\n      //  { path: './Series1', component: AmapContainerComponent }\n    ]),\n    NgxAmapModule.forRoot({\n      apiKey: \"ff0a330405d98023522079e8380de656\"\n    })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { WASTE_CATEGORY, wasteCategroiesName } from \"src/constants/enum\";\nimport { text } from \"src/constants/text\";\nimport { Position } from \"src/types/data\";\n\n@Component({\n  selector: \"app-content-card\",\n  templateUrl: \"./content-card.component.html\",\n  styleUrls: [\"./content-card.component.scss\"]\n})\nexport class ContentCardComponent {\n  categroy: string = wasteCategroiesName[this.data.category];\n  dest: { factory: Position; transferStation: Position } = this.data.dest;\n  content: string = text[this.data.category];\n  constructor(\n    @Inject(MAT_DIALOG_DATA)\n    public data: {\n      category: WASTE_CATEGORY;\n      dest: { factory: Position; transferStation: Position };\n    }\n  ) {}\n}\n","<h2 mat-dialog-title>\n  垃圾分类，侬晓得哇？({{ categroy }} -> {{ dest.transferStation.name }} ->\n  {{ dest.factory.name }})\n</h2>\n<div mat-dialog-content class=\"mat-typography text-card\">\n  <h3>第一步：垃圾装包回收</h3>\n  <p>\n    当干垃圾分类回收袋被填满，市民通过微信或电话预约免费上门收取垃圾服务。11：30回收员在预约规定时间内，到达居民家中，对垃圾袋中的垃圾进行称重。并按每公斤0.8元环保金的奖励实时奖励到居民微信环保账户里。自此，一袋垃圾的旅程正式开启。\n  </p>\n  <h3>第二步：垃圾打包、称重带走</h3>\n  <p>\n    回收员到达居民家中，将装包垃圾进行打包、称重后，装进干垃圾专用回收车中。每袋回收垃圾相应的环保金到账后，居民能在线下合作便利店和线上商城进行消费，1元环保金=1元人民币。虽然每公斤垃圾相当于0.8元人民币，不过张大爷介绍，日积月累下来，一年差不多能通过这些“卖出去”的垃圾兑换到价值约500元人民币的日用品。\n  </p>\n  <h3>第三步：用垃圾回收所得兑换消费品</h3>\n  <p>\n    在与“爱分类”合作的商店中，用环保金进行消费。13：45专门运输厨余的湿垃圾车和运输其余垃圾的垃圾车装运完毕，离开社区、街道，开始分别送往后端处理厂。\n  </p>\n  <h3>\n    第四步：运输\n  </h3>\n  <p>\n    专用运输车分类运输垃圾。14：00专用运输车到达分拣中心，这些生活垃圾在这里被细分为50多个种类。仅塑料制品就能被分为十几种，已经淡出我们生活的磁带或光碟，都能在这里集合，被成堆堆放在一起。\n  </p>\n  <h3>\n    第五步：分拣\n  </h3>\n  <p>\n    分拣垃圾，再次打包。到这为止，一袋垃圾旅程算是初步终结，因为到达分拣中心后，每家每户的垃圾无法再进行追溯。从居民家回收的垃圾袋上带有二维码，记录着这袋垃圾的出发地点与重量，而当它们被全部倾倒在分拣平台上，你家的塑料瓶和我家的塑料瓶就没法分出“你我”了，除非在它们未上分拣台前，还能通过二维码查询，知道每袋垃圾的“主人”。次日7：00被精细分类好的垃圾分别被运往填埋场、焚烧厂和再生加工厂进行处理或再利用。部分垃圾会重新化作塑料、衣物、纸张再度回到我们手中。\n  </p>\n</div>\n","import { DragDropModule } from \"@angular/cdk/drag-drop\";\nimport { LayoutModule } from \"@angular/cdk/layout\";\nimport { STEPPER_GLOBAL_OPTIONS } from \"@angular/cdk/stepper\";\nimport { NgModule } from \"@angular/core\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatButtonToggleModule } from \"@angular/material/button-toggle\";\nimport { MatCardModule } from \"@angular/material/card\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatExpansionModule } from \"@angular/material/expansion\";\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatListModule } from \"@angular/material/list\";\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\nimport { MatSelectModule } from \"@angular/material/select\";\nimport { MatSidenavModule } from \"@angular/material/sidenav\";\nimport { MatSnackBarModule } from \"@angular/material/snack-bar\";\nimport { MatStepperModule } from \"@angular/material/stepper\";\nimport { MatTabsModule } from \"@angular/material/tabs\";\nimport { MatToolbarModule } from \"@angular/material/toolbar\";\nimport { MatMenuModule } from \"@angular/material/menu\";\n\n@NgModule({\n  declarations: [],\n  imports: [\n    MatButtonModule,\n    LayoutModule,\n    MatToolbarModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatButtonToggleModule,\n    MatInputModule,\n    MatExpansionModule,\n    MatStepperModule,\n    DragDropModule,\n    MatTabsModule,\n    MatProgressSpinnerModule,\n    MatSnackBarModule,\n    MatCardModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatMenuModule\n  ],\n  providers: [\n    {\n      provide: STEPPER_GLOBAL_OPTIONS,\n      useValue: { displayDefaultIndicatorType: false }\n    }\n  ],\n  exports: [\n    MatButtonModule,\n    LayoutModule,\n    MatToolbarModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatListModule,\n    MatButtonToggleModule,\n    MatInputModule,\n    MatExpansionModule,\n    MatStepperModule,\n    DragDropModule,\n    MatTabsModule,\n    MatProgressSpinnerModule,\n    MatSnackBarModule,\n    MatCardModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatMenuModule\n  ]\n})\nexport class MyMaterialModule {}\n","import { Injectable, OnInit } from \"@angular/core\";\nimport { ILngLat, Poi } from \"ngx-amap\";\nimport { positionsF, positionsT } from \"src/constants/data\";\nimport { WASTE_CATEGORY } from \"src/constants/enum\";\nimport {\n  CATEGORY_OF_FACTORY,\n  DISTRICT,\n  Position,\n  POSITION_TAG,\n} from \"src/types/data\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class PathScheduleService {\n  constructor() {}\n  private shortestDistanceWithStart(start: ILngLat) {\n    return (a: Position, b: Position) => {\n      return this.distance(a.lnglgt, start) < this.distance(b.lnglgt, start)\n        ? -1\n        : this.distance(a.lnglgt, start) === this.distance(b.lnglgt, start)\n        ? 0\n        : 1;\n    };\n  }\n  private decide(\n    xsMatchedDist: Position[],\n    xsMatchedCate: Position[],\n    start: ILngLat\n  ): Position {\n    let result: Position;\n    switch (xsMatchedDist.length) {\n      case 0:\n        result = xsMatchedCate.sort(this.shortestDistanceWithStart(start))[0];\n        break;\n      case 1:\n        result = xsMatchedDist[0];\n        break;\n      default:\n        result = xsMatchedDist.sort(this.shortestDistanceWithStart(start))[0];\n        break;\n    }\n    return result;\n  }\n  private distance(p1: ILngLat, p2: ILngLat): number {\n    const EARTH_RADIUS = 6378.137;\n    const rad = (ang: number) => (ang * Math.PI) / 180;\n    const p1Lat = rad(p1[1]);\n    const p2Lat = rad(p2[1]);\n    const a = p1Lat - p2Lat;\n    const b = rad(p1[0]) - rad(p2[0]);\n    return (\n      (Math.round(\n        2 *\n          Math.asin(\n            Math.sqrt(\n              Math.pow(Math.sin(a / 2), 2) +\n                Math.cos(p1Lat) * Math.cos(p2Lat) * Math.pow(Math.sin(b / 2), 2)\n            )\n          ) *\n          EARTH_RADIUS *\n          10000\n      ) /\n        10000) *\n      1000\n    );\n  }\n  getData(strategy: \"local\" | \"remote\" = \"local\") {\n    switch (strategy) {\n      case \"local\":\n        return {\n          factories: positionsF,\n          transferStations: positionsT,\n        };\n\n      default:\n        console.log(\"not avaliable\");\n        return {\n          factories: positionsF,\n          transferStations: positionsT,\n        };\n    }\n  }\n  getFactroyCateFilter(cate: WASTE_CATEGORY) {\n    let fn: (fac: Position) => boolean;\n    const ffn = (...cate: CATEGORY_OF_FACTORY[]) => (fac: Position) => {\n      if (fac.tag === POSITION_TAG.FACTORY) {\n        return cate.some((c) => fac.kind! === c);\n      } else {\n        throw \"must be a factory positions\";\n      }\n    };\n    switch (cate) {\n      case WASTE_CATEGORY.Dry:\n        fn = ffn(CATEGORY_OF_FACTORY.BURNING, CATEGORY_OF_FACTORY.LANDFILL);\n        break;\n      case WASTE_CATEGORY.Moist:\n        fn = ffn(CATEGORY_OF_FACTORY.RECYCLE, CATEGORY_OF_FACTORY.LANDFILL);\n        break;\n      case WASTE_CATEGORY.Recycle:\n        fn = ffn(CATEGORY_OF_FACTORY.ORG_SOILD, CATEGORY_OF_FACTORY.RECYCLE);\n        break;\n      default:\n        break;\n    }\n    return fn;\n  }\n  getPoint(start: Poi, cate: WASTE_CATEGORY) {\n    const district = <DISTRICT>start.adname;\n    let { factories, transferStations } = this.getData();\n    let factoriesMatchedCate = factories.filter(\n      this.getFactroyCateFilter(cate)\n    );\n    let factoriesMatchedDist = factoriesMatchedCate.filter(\n      (fac) => fac.district === district\n    );\n    let transfersMatchedDist = transferStations.filter((tra) =>\n      tra.district === DISTRICT.PD\n        ? tra.district + \"新区\" === district\n        : tra.district + \"区\" === district\n    );\n    const t = this.decide(\n      transfersMatchedDist,\n      transferStations,\n      start.location\n    );\n    return {\n      factory: this.decide(\n        factoriesMatchedDist,\n        factoriesMatchedCate,\n        t.lnglgt\n      ),\n      transferStation: t,\n    };\n  }\n  getShortestTans2Fac(\n    transferStation: Position,\n    factories: Position[]\n  ): Position {\n    factories.sort(this.shortestDistanceWithStart(transferStation.lnglgt));\n    return factories[0];\n  }\n}\n","import { Injectable, OnInit } from \"@angular/core\";\nimport { AmapDrivingService, AmapDrivingWrapper, Poi } from \"ngx-amap\";\nimport { from, Subscription } from \"rxjs\";\nimport {\n  groupBy,\n  map,\n  mergeAll,\n  mergeMap,\n  take,\n  tap,\n  toArray\n} from \"rxjs/operators\";\nimport { PathScheduleService } from \"src/app/path-schedule.service\";\nimport { WASTE_CATEGORY } from \"src/constants/enum\";\nimport { CATEGORY_OF_FACTORY, DISTRICT, Position } from \"src/types/data\";\nimport { Link, Node } from \"src/types/sankey\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { StreetData } from \"src/constants/data\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class SankeyDataProviderService {\n  destFactories: Set<string> = new Set();\n  destTansferStations: Set<string> = new Set();\n  sub: Subscription;\n  constructor(\n    private pathScheduler: PathScheduleService,\n    private driveNaviService: AmapDrivingService,\n    private http: HttpClient\n  ) {}\n  getData(cate: WASTE_CATEGORY) {\n    let { transferStations, factories } = this.pathScheduler.getData();\n    factories = factories.filter(factory =>\n      this.factoryKind2WasteCate(factory.kind).some(kind => kind === cate)\n    );\n    // tslint:disable-next-line: no-backbone-get-set-outside-model\n    return this.http\n      .get<StreetData[]>(\"./assets/sanityCheck.json\")\n      .pipe(map(s => this.genNode(factories, transferStations, s)));\n\n    // return this.genNode(factories, transferStations);\n    // return this.shortest(factories, transferStations);\n    // return this.shortest(factories, transferStations).pipe(\n    //  tap(v => console.log(v))\n    // map(shortest => this.genNode(factories, transferStations, shortest))\n    // );\n  }\n  private genNode(\n    factories: Position[],\n    transferStations: Position[],\n    streets: StreetData[]\n    // shortest: { tansferStation: string; factory: string }[]\n  ) {\n    let nodes: Node[] = [],\n      links: Link[] = [];\n    for (const district of Object.values(DISTRICT)) {\n      nodes.push({\n        id: district,\n        name: district\n      });\n    }\n    for (const street of streets) {\n      // if ((street.name = \"虹桥\")) continue;\n      nodes.push({\n        id: street.name,\n        name: street.name\n      });\n      links.push({\n        source: street.district,\n        target: street.name,\n        value: 1\n      });\n      links.push({\n        source: street.name,\n        target: street.transferStation.name,\n        value: 1\n      });\n      const f = this.pathScheduler.getShortestTans2Fac(\n        transferStations.find(t => t.name === street.transferStation.name),\n        factories\n      );\n      links.push({\n        source: street.transferStation.name,\n        target: f.name,\n        value: 1\n      });\n      this.destFactories.add(f.name);\n      this.destTansferStations.add(street.transferStation.name);\n    }\n    for (const transferStation of transferStations) {\n      if (this.destTansferStations.has(transferStation.name)) {\n        nodes.push({\n          id: transferStation.name,\n          name: transferStation.name\n        });\n      }\n\n      /* const dest = this.pathScheduler.getShortestTans2Fac(\n        transferStation,\n        factories\n      ).name;\n      this.destFactories.push(dest);\n      links.push({\n        source: transferStation.name,\n        target:\n          // shortest.find(v => v.tansferStation === transferStation.name)\n          //.factory,\n          dest,\n        value: 1\n      }); */\n    }\n\n    for (const factory of factories) {\n      if (this.destFactories.has(factory.name)) {\n        nodes.push({\n          id: factory.name,\n          name: factory.name\n        });\n      }\n\n      /*\n    links.push({\n        source: factory.name,\n        target: wasteCategroiesName[this.factoryKind2WasteCate(factory.kind)],\n        value: 1\n      });\n    */\n    }\n    /*\n    for (const category of wasteCategroiesName) {\n      nodes.push({\n        id: category,\n        name: category\n      });\n    }\n    */\n    return { nodes, links };\n  }\n  private shortest(f: Position[], t: Position[]) {\n    t = [t[0]];\n    f = [f[0], f[1]];\n    const plugin = this.driveNaviService.of();\n    const wrapper$ = from(plugin);\n\n    const invokeSearch = async (plugin: AmapDrivingWrapper) => {\n      const setTimeout = window.setTimeout;\n      let count = 0;\n      const timeout = (x: number) =>\n        new Promise((resolve, reject) => setTimeout(y => resolve(), x));\n      for (const trans of t) {\n        for (const fac of f) {\n          console.log(\"emit \" + ++count);\n          await timeout(1000 * 60);\n          console.log(\"finish\");\n          plugin.search([\n            { keyword: trans.name, city: \"上海\" },\n            { keyword: fac.name, city: \"上海\" }\n          ]);\n        }\n      }\n    };\n    return wrapper$.pipe(\n      tap(plugin => invokeSearch(plugin).catch(err => console.log(err))),\n      map(plugin =>\n        // parameter type was wrong\n\n        // plugin.search([\n        //  { keyword: \"北京市地震局(公交站)\", city: \"北京\" },\n        //  { keyword: \"亦庄文化园(地铁站)\", city: \"北京\" }\n        // ]);\n        plugin.on(\"complete\")\n      ),\n      mergeAll(),\n      take(f.length * t.length),\n      groupBy(result => (<Poi>result.start).adcode),\n      mergeMap(group => group.pipe(toArray())),\n\n      map(\n        results =>\n          results.sort((a, b) =>\n            a.routes[0].distance < b.routes[0].distance\n              ? -1\n              : a.routes[0].distance < b.routes[0].distance\n              ? 0\n              : 1\n          )[0]\n      ),\n      map(result => {\n        console.log(result);\n        return {\n          tansferStation: (<Poi>result.start).name,\n          factory: (<Poi>result.end).name\n        };\n      }),\n      toArray()\n    );\n  }\n  private factoryKind2WasteCate(kind: CATEGORY_OF_FACTORY): WASTE_CATEGORY[] {\n    let cate: WASTE_CATEGORY[];\n    switch (kind) {\n      case CATEGORY_OF_FACTORY.BURNING:\n        cate = [WASTE_CATEGORY.Dry];\n        break;\n      case CATEGORY_OF_FACTORY.RECYCLE:\n        cate = [WASTE_CATEGORY.Moist, WASTE_CATEGORY.Recycle];\n        break;\n      case CATEGORY_OF_FACTORY.ORG_SOILD:\n        cate = [WASTE_CATEGORY.Recycle];\n        break;\n      case CATEGORY_OF_FACTORY.LANDFILL:\n        cate = [\n          WASTE_CATEGORY.Dry,\n          WASTE_CATEGORY.Moist,\n          WASTE_CATEGORY.Harzard\n        ];\n      default:\n        break;\n    }\n    return cate;\n  }\n}\n","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { SankeyDataProviderService } from \"src/app/sankey-data-provider.service\";\nimport { WASTE_CATEGORY } from \"src/constants/enum\";\nimport { Observable } from \"rxjs\";\nimport { Link, Node } from \"src/types/sankey\";\nimport { MAT_DIALOG_DATA } from \"@angular/material/dialog\";\n@Component({\n  selector: \"app-sankey-demo\",\n  templateUrl: \"./sankey-demo.component.html\",\n  styleUrls: [\"./sankey-demo.component.scss\"],\n  providers: [SankeyDataProviderService]\n})\nexport class SankeyDemoComponent implements OnInit {\n  data$: Observable<{ nodes: Node[]; links: Link[] }>;\n  links: Link[];\n  nodes: Node[];\n  constructor(\n    private sankeyDataProvider: SankeyDataProviderService,\n    @Inject(MAT_DIALOG_DATA) private category: WASTE_CATEGORY\n  ) {}\n\n  ngOnInit() {\n    this.data$ = this.sankeyDataProvider.getData(this.category);\n    //this.nodes = nodes;\n    //this.links = links;\n    /*  this.nodes = [\n      { id: \"Alice\", name: \"Alice\" },\n      { id: \"Bob\", name: \"Bob\" },\n      { id: \"Carol\", name: \"Carol\" },\n      { id: \"Ashish\", name: \"Ashish\" },\n      { id: \"Tejas\", name: \"Tejas\" }\n    ];\n    this.links = [\n      { source: 0, target: 1, value: 30 },\n      { source: 0, target: 2, value: 70 },\n      { source: 1, target: 2, value: 10 },\n      { source: 3, target: 1, value: 50 },\n      { source: 4, target: 2, value: 50 }\n    ];\n    */\n  }\n}\n","<p>sankey-demo works!</p>\n<!-- <ng-container *ngIf=\"data$ | async as data; else note\">\n  <app-sankey\n    [svgHeight]=\"500\"\n    [svgWidth]=\"1000\"\n    [links]=\"data.links\"\n    [nodes]=\"data.nodes\"\n  ></app-sankey>\n</ng-container>\n<ng-template #note>hold on......</ng-template>\n-->\n<div mat-dialog-content>\n  <app-sankey\n    *ngIf=\"data$ | async as data\"\n    [svgHeight]=\"2500\"\n    [svgWidth]=\"1200\"\n    [links]=\"data.links\"\n    [nodes]=\"data.nodes\"\n  ></app-sankey>\n</div>\n","import {\n  Component,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n} from \"@angular/core\";\nimport { sankey, sankeyJustify, sankeyLinkHorizontal } from \"d3-sankey\";\nimport { scaleOrdinal } from \"d3-scale\";\nimport { schemeCategory10 } from \"d3-scale-chromatic\";\nimport {\n  ALIGNMENT,\n  Graph,\n  Link,\n  LinkData,\n  Node,\n  NodeData,\n} from \"src/types/sankey\";\n@Component({\n  selector: \"app-sankey\",\n  templateUrl: \"./sankey.component.html\",\n  styleUrls: [\"./sankey.component.scss\"],\n})\nexport class SankeyComponent implements OnInit, OnChanges {\n  @Input() alignment: ALIGNMENT = ALIGNMENT.JUSTIFY;\n  @Input() nodeWidth = 15;\n  @Input() nodePadding = 10;\n  @Input() margin = { top: 20, bottom: 20, left: 20, right: 20 };\n  @Input() labelPadding = \"0.35em\";\n\n  @Input() svgWidth: number;\n  @Input() svgHeight: number;\n  @Input() nodes: Node[];\n  @Input() links: Link[];\n\n  sankeyLayout: Graph;\n  colorScale = scaleOrdinal(schemeCategory10);\n  constructor() {}\n\n  ngOnInit() {\n    this.sankeyLayout = this.generate();\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    if (!(changes.links.isFirstChange && changes.nodes.isFirstChange())) {\n      const links = changes.links.currentValue;\n      const nodes = changes.nodes.currentValue;\n      this.sankeyLayout = this.generate(links, nodes);\n    }\n  }\n\n  private generate(nodes = this.nodes, links = this.links) {\n    const width = this.svgWidth;\n    const height = this.svgHeight;\n\n    const align = sankeyJustify;\n    const generator = sankey<NodeData, LinkData>()\n      .nodeAlign(align)\n      .nodeWidth(this.nodeWidth)\n      .nodePadding(this.nodePadding)\n      .extent([\n        [20, 20],\n        [\n          width - this.margin.left - this.margin.right,\n          height - this.margin.top - this.margin.bottom,\n        ],\n      ])\n      .nodeId((d) => d.id);\n    const data = {\n      nodes,\n      links,\n    };\n    const layout = generator(data);\n\n    for (const node of layout.nodes) {\n      node.color =\n        node.color === undefined ? this.colorScale(node.name) : node.color;\n      node.label = {\n        x: node.x0 < width / 2 ? node.x1 + 6 : node.x0 - 50,\n        y: (node.y1 + node.y0) / 2,\n        dy: this.labelPadding,\n      };\n    }\n    for (const link of layout.links) {\n      if (typeof link.source === \"number\") {\n        link.color = this.colorScale(link.source.toString());\n      } else if (typeof link.source === \"string\") {\n        link.color = this.colorScale(link.source);\n      } else {\n        link.color = this.colorScale(link.source.name);\n      }\n      link.path = sankeyLinkHorizontal()(link);\n      link.width = Math.max(1, link.width);\n    }\n    return layout;\n  }\n}\n","<svg [style.width.px]=\"svgWidth\" [style.height.px]=\"svgHeight\">\n  <g class=\"nodes\">\n    <rect\n      class=\"node\"\n      *ngFor=\"let node of sankeyLayout.nodes; let $index\"\n      [attr.x]=\"node.x0\"\n      [attr.y]=\"node.y0\"\n      [attr.width]=\"node.x1 - node.x0\"\n      [attr.height]=\"node.y1 - node.y0\"\n      [attr.fill]=\"node.color\"\n    >\n      <title>{{ node.name }}</title>\n    </rect>\n  </g>\n\n  <g class=\"links\">\n    <g class=\"link\" *ngFor=\"let link of sankeyLayout.links; let $index\">\n      <path\n        [attr.d]=\"link.path\"\n        [attr.stroke]=\"link.color\"\n        [attr.stroke-width]=\"link.width\"\n      ></path>\n    </g>\n  </g>\n  <g class=\"labels\">\n    <g class=\"node-label\" *ngFor=\"let node of sankeyLayout.nodes; let $index\">\n      <text\n        [attr.x]=\"node.label.x\"\n        [attr.y]=\"node.label.y\"\n        [attr.dy]=\"node.label.dy\"\n      >\n        {{ node.name }}\n      </text>\n    </g>\n  </g>\n</svg>\n","import { Component } from \"@angular/core\";\nimport { BreakpointObserver, Breakpoints } from \"@angular/cdk/layout\";\nimport { Observable } from \"rxjs\";\nimport { map, share } from \"rxjs/operators\";\nimport { WASTE_CATEGORY, wasteCategroiesName } from \"src/constants/enum\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { SankeyDemoComponent } from \"src/app/sankey-demo/sankey-demo.component\";\n\n@Component({\n  selector: \"app-search-bar\",\n  templateUrl: \"./search-bar.component.html\",\n  styleUrls: [\"./search-bar.component.scss\"]\n})\nexport class SearchBarComponent {\n  isHandset$: Observable<boolean> = this.breakpointObserver\n    .observe(Breakpoints.Handset)\n    .pipe(\n      map(result => result.matches),\n      share()\n    );\n  wasteCategroies: WASTE_CATEGORY[] = [\n    WASTE_CATEGORY.Dry,\n    // WASTE_CATEGORY.Harzard,\n    WASTE_CATEGORY.Moist,\n    WASTE_CATEGORY.Recycle\n  ];\n  names = wasteCategroiesName;\n  constructor(\n    private breakpointObserver: BreakpointObserver,\n    private readonly dialog: MatDialog\n  ) {}\n\n  openSankeyDialog(category: WASTE_CATEGORY) {\n    this.dialog.open(SankeyDemoComponent, {\n      data: category\n    });\n  }\n}\n","<mat-sidenav-container class=\"sidenav-container\">\n  <mat-sidenav\n    #drawer\n    class=\"sidenav\"\n    fixedInViewport\n    [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\n    [mode]=\"(isHandset$ | async) ? 'over' : 'push'\"\n    [opened]=\"(isHandset$ | async) === false\"\n  >\n    <mat-toolbar>Menu</mat-toolbar>\n    <mat-nav-list>\n      <a mat-list-item href=\"#\">侬晓得哇？</a>\n      <a mat-list-item disabled href=\"#\">Series 2</a>\n      <a mat-list-item disabled href=\"#\">Series 3</a>\n    </mat-nav-list>\n  </mat-sidenav>\n  <mat-sidenav-content>\n    <mat-toolbar color=\"primary\">\n      <button\n        type=\"button\"\n        aria-label=\"Toggle sidenav\"\n        mat-icon-button\n        (click)=\"drawer.toggle()\"\n        *ngIf=\"isHandset$ | async\"\n      >\n        <mat-icon aria-label=\"Side nav toggle icon\">menu</mat-icon>\n      </button>\n      <span>上海市垃圾流通网络</span>\n      <span class=\"fill-space\"></span>\n      <nav *ngIf=\"!(isHandset$ | async)\" mat-tab-nav-bar>\n        <button mat-button [mat-menu-trigger-for]=\"sankeyMenu\">\n          显示桑基图\n        </button>\n        <mat-menu #sankeyMenu=\"matMenu\" yPosition=\"below\">\n          <button\n            *ngFor=\"let cate of wasteCategroies\"\n            (click)=\"openSankeyDialog(cate)\"\n            mat-menu-item\n          >\n            {{ names[cate] }}\n          </button>\n        </mat-menu>\n        <button mat-button [mat-menu-trigger-for]=\"networkMenu\">\n          显示网络图\n        </button>\n        <mat-menu #networkMenu=\"matMenu\" yPosition=\"below\">\n          <button mat-menu-item (click)=\"amap.showTrans()\">\n            切换中转站显示\n          </button>\n          <button mat-menu-item (click)=\"amap.showFactory()\">\n            切换处理厂显示\n          </button>\n        </mat-menu>\n      </nav>\n    </mat-toolbar>\n    <app-amap-container #amap class=\"map-container\"> </app-amap-container>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { ILngLat } from \"ngx-amap\";\nimport {\n  DISTRICT,\n  CATEGORY_OF_FACTORY,\n  POSITION_TAG,\n  Position\n} from \"src/types/data\";\nconst rawData = [\n  {\n    序号: 1,\n    区: \"浦东\",\n    设施名称: \"罗山路中转站\",\n    地址: \"高科西路4145弄\",\n    pos: \"121.576022,31.195638 \"\n  },\n  {\n    序号: 2,\n    区: \"浦东\",\n    设施名称: \"周浦中转站\",\n    地址: \"周浦镇新坦瓦公路1356号\",\n    pos: \"121.645194,31.094401 \"\n  },\n  {\n    序号: 3,\n    区: \"浦东\",\n    设施名称: \"惠南中转站\",\n    地址: \"惠南镇下盐公路5001号\",\n    pos: \"121.731788,31.071983 \"\n  },\n  {\n    序号: 4,\n    区: \"浦东\",\n    设施名称: \"唐镇分流转运中心\",\n    地址: \"川沙路近一沁村\",\n    pos: \"121.692535,31.208615 \"\n  },\n  {\n    序号: 5,\n    区: \"浦东\",\n    设施名称: \"张江中转站\",\n    地址: \"军民路1901号\",\n    pos: \"121.616346,31.160352 \"\n  },\n  {\n    序号: 6,\n    区: \"浦东\",\n    设施名称: \"高行分流转运中心\",\n    地址: \"津行路1364弄11号\",\n    pos: \"121.597642,31.309778 \"\n  },\n  {\n    序号: 7,\n    区: \"宝山\",\n    设施名称: \"泰和路码头\",\n    地址: \"泰和路到底\",\n    pos: \"121.484194,31.372257 \"\n  },\n  {\n    序号: 8,\n    区: \"闵行\",\n    设施名称: \"闵吴码头\",\n    地址: \"江川东路301号\",\n    pos: \"121.447597,31.009942 \"\n  },\n  {\n    序号: 9,\n    区: \"黄浦\",\n    设施名称: \"黄浦中转站\",\n    地址: \"中山南路1118号\",\n    pos: \"121.502421,31.211347 \"\n  },\n  {\n    序号: 10,\n    区: \"虹口\",\n    设施名称: \"虹口中转站\",\n    地址: \"黄山路53号\",\n    pos: \"121.47171,31.269332 \"\n  },\n  {\n    序号: 11,\n    区: \"静安\",\n    设施名称: \"静安中转站\",\n    地址: \"海防路\",\n    pos: \"121.46418,31.250319\"\n  },\n  {\n    序号: 12,\n    区: \"杨浦\",\n    设施名称: \"杨浦中转站\",\n    地址: \"军工路3701号\",\n    pos: \"121.537934,31.33448 \"\n  },\n  {\n    序号: 13,\n    区: \"长宁\",\n    设施名称: \"田度中转站\",\n    地址: \"泾力西路860号\",\n    pos: \"121.343787,31.238336 \"\n  },\n  {\n    序号: 14,\n    区: \"宝山\",\n    设施名称: \"虎林路码头\",\n    地址: \"虎林路950号\",\n    pos: \"121.451622,31.349407 \"\n  },\n  {\n    序号: 15,\n    区: \"徐汇\",\n    设施名称: \"徐浦码头\",\n    地址: \"徐梅路7弄55号\",\n    pos: \"121.463074,31.123017 \"\n  }\n];\nconst rawDataTwo = [\n  {\n    序号: 1,\n    \"处置厂（场）名称\": \"江桥焚烧厂\",\n    区: \"嘉定\",\n    地址: \"绥德路800号\",\n    运行单位: \"上海环城再生能源有限公司\",\n    pos: \"121.363682,31.268916 \"\n  },\n  {\n    序号: 2,\n    \"处置厂（场）名称\": \"老港四期填埋场\",\n    区: \"浦东\",\n    地址: \"浦东老港镇东首\",\n    运行单位: \"上海老港生活垃圾处置有限公司\",\n    pos: \"121.87292,31.051303 \"\n  },\n  {\n    序号: 3,\n    \"处置厂（场）名称\": \"老港焚烧厂（一期）\",\n    区: \"浦东\",\n    地址: \"浦东老港镇东首\",\n    运行单位: \"上海环境集团再生能源运营管理有限公司老港分公司\",\n    pos: \"121.87292,31.051303 \"\n  },\n  {\n    序号: 4,\n    \"处置厂（场）名称\": \"老港综合填埋场\",\n    区: \"浦东\",\n    地址: \"浦东老港镇东首\",\n    运行单位: \"上海老港废弃物处置有限公司\",\n    pos: \"121.87292,31.051303 \"\n  },\n  {\n    序号: 5,\n    \"处置厂（场）名称\": \"奉贤焚烧厂\",\n    区: \"奉贤\",\n    地址: \"奉贤化学工业园区漴缺村1488号\",\n    运行单位: \"上海东石塘再生能源有限公司\",\n    pos: \"121.451526,30.829827 \"\n  },\n  {\n    序号: 6,\n    \"处置厂（场）名称\": \"御桥焚烧厂\",\n    区: \"浦东\",\n    地址: \"北蔡御桥路869号\",\n    运行单位: \"上海浦城热电能源有限公司\",\n    pos: \"121.551287,31.154236 \"\n  },\n  {\n    序号: 7,\n    \"处置厂（场）名称\": \"黎明焚烧厂\",\n    区: \"浦东\",\n    地址: \"曹路镇小华江路到底\",\n    运行单位: \"上海黎明资源再利用有限公司\",\n    pos: \"121.718096,31.282576 \"\n  },\n  {\n    序号: 8,\n    \"处置厂（场）名称\": \"嘉定焚烧厂\",\n    区: \"嘉定\",\n    地址: \"嘉定外冈镇古塘村\",\n    运行单位: \"上海嘉定再生能源有限公司\",\n    pos: \"121.117233,31.360046 \"\n  },\n  {\n    序号: 9,\n    \"处置厂（场）名称\": \"金山焚烧厂\",\n    区: \"金山\",\n    地址: \"海金路728号\",\n    运行单位: \"上海金山环境再生能源有限公司\",\n    pos: \"121.279287,30.707395 \"\n  },\n  {\n    序号: 10,\n    \"处置厂（场）名称\": \"松江焚烧厂\",\n    区: \"松江\",\n    地址: \"青天路669号\",\n    运行单位: \"上海天马再生能源有限公司\",\n    pos: \"121.111835,31.089536 \"\n  },\n  {\n    序号: 11,\n    \"处置厂（场）名称\": \"崇明焚烧厂\",\n    区: \"崇明\",\n    地址: \"崇明区港沿镇港沿公路4098号\",\n    运行单位: \"上海城投瀛洲生活垃圾处置有限公司\",\n    pos: \"121.702985,31.631241 \"\n  },\n  {\n    序号: 12,\n    \"处置厂（场）名称\": \"崇明填埋场\",\n    区: \"崇明\",\n    地址: \"堡镇港北闸东侧\",\n    运行单位: \"上海环境集团再生能源运营管理有限公司\",\n    pos: \"121.686901,31.631212 \"\n  },\n  {\n    序号: 13,\n    \"处置厂（场）名称\": \"长兴填埋场\",\n    区: \"崇明\",\n    地址: \"长兴岛合作路永丰为圩\",\n    运行单位: \"上海城投瀛洲生活垃圾处置有限公司\",\n    pos: \"121.778077,31.349146 \"\n  },\n  {\n    序号: 14,\n    \"处置厂（场）名称\": \"青浦综合处理厂\",\n    区: \"青浦\",\n    地址: \"青浦区白鹤镇金米村\",\n    运行单位: \"上海国清生物科技有限公司\",\n    pos: \"121.07974,31.200686 \"\n  },\n  {\n    序号: 15,\n    \"处置厂（场）名称\": \"浦东有机固废处理厂\",\n    区: \"浦东\",\n    地址: \"浩江路108号\",\n    运行单位: \"上海浦东环保发展有限公司\",\n    pos: \"121.71539,31.286654 \"\n  },\n  {\n    序号: 16,\n    \"处置厂（场）名称\": \"闵行餐厨再生资源中心\",\n    区: \"闵行\",\n    地址: \"联友路\",\n    运行单位: \"上海文鑫生物科技有限公司\",\n    pos: \"121.259806,31.247924 \"\n  }\n];\nconst array2LngLgt = (raw: string): ILngLat => {\n  let lnglgt: ILngLat = [];\n  for (const it of raw.split(\",\")) {\n    lnglgt.push(Number(it));\n  }\n  return lnglgt;\n};\nfunction convert(raw: typeof rawData): Position[] {\n  let positions: Position[] = [];\n  if (typeof raw === typeof rawData) {\n    for (const item of raw) {\n      positions.push({\n        name: item.设施名称,\n        district: <DISTRICT>item.区,\n        lnglgt: array2LngLgt(item.pos),\n        tag: POSITION_TAG.TANSFER_STATION\n      });\n    }\n  }\n  return positions;\n}\nfunction convertFac(raw: typeof rawDataTwo) {\n  let positions: Position[] = [];\n  for (const item of raw) {\n    positions.push({\n      name: item[\"处置厂（场）名称\"],\n      district: <DISTRICT>item.区,\n      lnglgt: array2LngLgt(item.pos),\n      tag: POSITION_TAG.FACTORY,\n      kind: item[\"处置厂（场）名称\"].includes(\"焚烧\")\n        ? CATEGORY_OF_FACTORY.BURNING\n        : item[\"处置厂（场）名称\"].includes(\"填埋\")\n        ? CATEGORY_OF_FACTORY.LANDFILL\n        : item[\"处置厂（场）名称\"].includes(\"固废\")\n        ? CATEGORY_OF_FACTORY.ORG_SOILD\n        : item[\"处置厂（场）名称\"].includes(\"再生\")\n        ? CATEGORY_OF_FACTORY.RECYCLE\n        : CATEGORY_OF_FACTORY.BURNING\n    });\n  }\n  return positions;\n}\nexport interface StreetData {\n  name: string;\n  district: string;\n  transferStation: {\n    name: string;\n    path: any;\n  };\n  factory: {\n    name: string;\n    path: any;\n  };\n}\n\nexport const positionsT = convert(rawData);\nexport const positionsF = convertFac(rawDataTwo);\n","export enum WASTE_CATEGORY {\n  Dry,\n  Moist,\n  Harzard,\n  Recycle\n}\nexport enum RESULT_STATUS {\n  NO_DATA = 'no_data',\n  COMPLETE = 'complete',\n  ERROR = 'error'\n}\nexport const wasteCategroiesName: string[] = [\n    '干垃圾',\n    '湿垃圾',\n    '有害垃圾',\n    '可回收垃圾'\n  ];\nexport enum ERROR_STATUS {\n  wip\n}\n","export const text = [\n  `第一步：垃圾装包回收\n  当干垃圾分类回收袋被填满，市民通过微信或电话预约免费上门收取垃圾服务。11：30回收员在预约规定时间内，到达居民家中，对垃圾袋中的垃圾进行称重。并按每公斤0.8元环保金的奖励实时奖励到居民微信环保账户里。自此，一袋垃圾的旅程正式开启。\n  第二步：垃圾打包、称重带走\n\n  回收员到达居民家中，将装包垃圾进行打包、称重后，装进干垃圾专用回收车中。每袋回收垃圾相应的环保金到账后，居民能在线下合作便利店和线上商城进行消费，1元环保金=1元人民币。虽然每公斤垃圾相当于0.8元人民币，不过张大爷介绍，日积月累下来，一年差不多能通过这些“卖出去”的垃圾兑换到价值约500元人民币的日用品。\n  第三步：用垃圾回收所得兑换消费品\n  在与“爱分类”合作的商店中，用环保金进行消费。13：45专门运输厨余的湿垃圾车和运输其余垃圾的垃圾车装运完毕，离开社区、街道，开始分别送往后端处理厂。\n  第四步：运输\n  专用运输车分类运输垃圾。14：00专用运输车到达分拣中心，这些生活垃圾在这里被细分为50多个种类。仅塑料制品就能被分为十几种，已经淡出我们生活的磁带或光碟，都能在这里集合，被成堆堆放在一起。\n  第五步：分拣\n  分拣垃圾，再次打包。到这为止，一袋垃圾旅程算是初步终结，因为到达分拣中心后，每家每户的垃圾无法再进行追溯。从居民家回收的垃圾袋上带有二维码，记录着这袋垃圾的出发地点与重量，而当它们被全部倾倒在分拣平台上，你家的塑料瓶和我家的塑料瓶就没法分出“你我”了，除非在它们未上分拣台前，还能通过二维码查询，知道每袋垃圾的“主人”。次日7：00被精细分类好的垃圾分别被运往填埋场、焚烧厂和再生加工厂进行处理或再利用。部分垃圾会重新化作塑料、衣物、纸张再度回到我们手中。\n  `,\n  'wip',\n  'wip',\n  'wip'\n];\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { ILngLat } from \"ngx-amap\";\nexport enum POSITION_TAG {\n  TANSFER_STATION,\n  FACTORY\n}\nexport enum DISTRICT {\n  YP = \"杨浦\",\n  PD = \"浦东\",\n  BS = \"宝山\",\n  MH = \"闵行\",\n  HP = \"黄浦\",\n  HK = \"虹口\",\n  JA = \"静安\",\n  CN = \"长宁\",\n  XH = \"徐汇\",\n  FX = \"奉贤\",\n  JS = \"金山\",\n  PT = \"普陀\",\n  JD = \"嘉定\",\n  QP = \"青浦\",\n  CM = \"崇明\",\n  SJ = \"松江\"\n}\nexport enum CATEGORY_OF_FACTORY {\n  LANDFILL,\n  BURNING,\n  ORG_SOILD,\n  RECYCLE\n}\nexport interface Position {\n  name: string;\n  district: DISTRICT;\n  lnglgt: ILngLat;\n  tag: POSITION_TAG;\n  kind?: CATEGORY_OF_FACTORY;\n}\nexport interface RawData {}\n","import {\n  SankeyLink,\n  SankeyNode,\n  SankeyNodeMinimal,\n  SankeyExtraProperties,\n  SankeyLayout,\n  SankeyGraph\n} from \"d3-sankey\";\nexport interface LabelProperties {\n  x: number;\n  y: number;\n  dy: number | string;\n  \n}\nexport interface LinkData extends SankeyExtraProperties {\n  color?: string;\n  path?: string;\n}\nexport interface NodeData extends SankeyExtraProperties {\n  color?: string;\n  name?: string;\n  label?: LabelProperties;\n}\nexport enum ALIGNMENT {\n  CENTER = \"Center\",\n  LEFT = \"Left\",\n  RIGHT = \"Right\",\n  JUSTIFY = \"Justify\"\n}\nexport type Link = SankeyLink<NodeData, LinkData>;\nexport type Node = SankeyNode<NodeData, LinkData>;\nexport type Graph = SankeyGraph<NodeData, LinkData>;\n"],"sourceRoot":"webpack:///"}